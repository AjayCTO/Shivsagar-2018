@model MvcSiteMapProvider.Web.Html.Models.MenuHelperModel
@using System.Web.Mvc.Html
@using MvcSiteMapProvider.Web.Html.Models
@using Microsoft.AspNet.Identity
@using SHIVAM_ECommerce.ViewModels
@{
    var _CurrentUser = Session["CurrentUserContext"] as CurrentUserContext;
    var _AllClaims = Session["UserClaims"] as List<ClaimsViewModel>;
    var CanSeeCategoryURL = Session["CanSeeCategoryURL"].ToString() == "URL:/Category" ? true : false;
    var CanSeeSupplierURL = Session["CanSeeSupplierURL"].ToString() == "URL:/Supplier" ? true : false;
    var CanSeePlanURL = Session["CanSeePlanURL"].ToString() == "URL:/Plan" ? true : false;
    var CanSeeManufacturerURL = Session["CanSeeManufacturerURL"].ToString() == "URL:/Manufacturers" ? true : false;
    var CanSeeProductURL = Session["CanSeeProductURL"].ToString() == "URL:/Product/GetAllProducts" ? true : false;
    var CanSeeProductStatusURL = Session["CanSeeProductStatusURL"].ToString() == "URL:/ProductStatus" ? true : false;
    var CanSeeUOMURL = Session["CanSeeUOMURL"].ToString() == "URL:/UnitOfMeasures" ? true : false;
    var CanSeeProductAttrURL = Session["CanSeeProductAttrURL"].ToString() == "URL:/ProductAttributes" ? true : false;
    var CanSeeProductAttrSupplierURL = Session["CanSeeProductAttrSupplierURL"].ToString() == "URL:/ProductAttributes/AddAttributesForSupplier" ? true : false;
    var CanSeeCustomerURL = Session["CanSeeCustomerURL"].ToString() == "URL:/Customer" ? true : false;
    var CanSeeOrderURL = Session["CanSeeOrderURL"].ToString() == "URL:/Order" ? true : false;
    var CanSeeEmailRecordURL = Session["CanSeeEmailRecordURL"].ToString() == "URL:/EmailRecords" ? true : false;
    var CanSeeManageAccountURL = Session["CanSeeManageAccountURL"].ToString() == "URL:/Account/Manage" ? true : false;
    var CanSeeSupplierUserURL = Session["CanSeeSupplierUserURL"].ToString() == "URL:/SupplierUser" ? true : false;
}

<div class="header-nav d-none d-lg-flex">
    <div class="container">
        <div class="row align-items-center">
            <div class="col">
                <ul class="navbar-nav my-lg-0">




    @if (Request.IsAuthenticated)
                    {
                        if (_AllClaims != null)
                        {

                            foreach (var _item in _AllClaims.ToList())
                            {
                                if (_item.AllClaims.Count() == 1)
                                {
                                    <li class="nav-item">
                                        <a href="/@_item.AllClaims[0].ClaimValue" class="nav-link"> @_item.AllClaims[0].Title</a>
                                    </li>
                                }
                                else
                                {
                                    <li class="nav-item dropdown">
                                        <a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle"> @_item.Group <i class="fa fa-caret-down"></i></a>
                                        <div class="dropdown-menu">
                                            <ul>
                                                @foreach (var _childitem in _item.AllClaims.ToList())
{
    <li>
        <a href="/@_childitem.ClaimValue" class="nav-item ">@_childitem.Title</a>
    </li>

}

                                                </ul>
                                        </div>
                                    </li>
                                }

                            }
                        }
                    }
                </ul>

            </div>
        
        </div>
    </div>
</div>

